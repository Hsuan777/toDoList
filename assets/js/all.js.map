{"version":3,"sources":["all.js"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","db","database","app","Vue","createApp","data","toDoList","toDo","hasLogin","uid","totalTime","seconds","minutes","countDown","started","percent","targetSource","newIndex","oldIndex","methods","getData","vm","ref","on","snapshot","Object","entries","val","forEach","item","index","push","order","console","log","postData","trim","key","child","set","date","Date","getTime","length","checked","updateChecked","tempObj","update","updateDataAll","deleteData","remove","deleteAll","googleLogin","provider","auth","GoogleAuthProvider","signInWithPopup","then","result","onAuthState","facebookLogin","FacebookAuthProvider","addScope","setCustomParameters","signOut","alert","reStart","onAuthStateChanged","user","cleanData","start","setInterval","clearInterval","stop","dragStart","e","oldOrder","target","classList","add","dropped","cancelDefault","dragEnd","changeData","newOrder","dragEnter","tagName","dragOver","dragLeave","preventDefault","stopPropagation","originToDo","originChecked","computed","timeLeft","min","Math","floor","sec","formatTime","num","awaitData","filter","finishedData","watch","newValue","mounted","mount"],"mappings":"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","file":"all.js","sourcesContent":["// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyD1NqNVJuZyWRWTIn6JPFWDv3E7cPZdjws\",\n  authDomain: \"to-do-list-21e2c.firebaseapp.com\",\n  databaseURL: \"https://to-do-list-21e2c-default-rtdb.firebaseio.com\",\n  projectId: \"to-do-list-21e2c\",\n  storageBucket: \"to-do-list-21e2c.appspot.com\",\n  messagingSenderId: \"174717852507\",\n  appId: \"1:174717852507:web:305e301fdb95df65d0d87e\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\n// firebase 資料庫\nconst db = firebase.database();\n\n// Vue\nconst app = Vue.createApp({\n  data() {\n    return {\n      // toDoList\n      toDoList: [],\n      toDo: '',\n      hasLogin: false,\n      uid: '',\n      totalTime: 0,\n      // 番茄鐘\n      seconds: 60,\n      minutes : 25,\n      countDown: null,\n      started: false,\n      percent: 0,\n      // 拖曳元素\n      targetSource: '',\n      newIndex: '',\n      oldIndex: ''\n    }\n  },\n  methods: {\n    /* toDoList */\n    getData() {\n      const vm = this;\n      // 取得屬性值\n      db.ref(`${vm.uid}`).on('value', (snapshot) => {\n        vm.toDoList = [];\n        Object.entries(snapshot.val() || {}).forEach((item, index) => {\n          vm.toDoList.push(item[1]);\n          vm.toDoList[index].order = index;\n        })\n        console.log(vm.toDoList);\n      })\n    },\n    postData() {\n      if (!this.toDo.trim()) {\n        return;\n      }\n      // 取得推送亂數 ID\n      const key = db.ref(`${this.uid}`).push().key;\n\n      // 推送，在子層建立資料\n      db.ref(`${this.uid}`).child(key).set({\n        // 加入相同 key 值，方便刪除\n        key: key,\n        toDo: this.toDo,\n        date: new Date().getTime(),\n        order: this.toDoList.length + 1,\n        checked: false,\n      })\n      this.toDo = '';\n    },\n    updateChecked(item) {\n      let tempObj = item;\n      tempObj.checked = !tempObj.checked;\n      db.ref(`${this.uid}`).child(item.key).update(tempObj);\n    },\n    updateDataAll() {\n      let tempObj = {};\n      this.toDoList.forEach(item => {\n        tempObj[item.key] = item;\n      })\n      db.ref(`${this.uid}`).update(tempObj);\n      this.getData();\n    },\n    deleteData(key) {\n      db.ref(`${this.uid}`).child(key).remove();\n      this.updateDataAll();\n    },\n    deleteAll() {\n      db.ref(`${this.uid}`).remove();\n    },\n    // google 登入\n    googleLogin() {\n      const provider = new firebase.auth.GoogleAuthProvider();\n      const vm = this;\n      firebase.auth().signInWithPopup(provider).then(function (result) {\n        // 可以獲得 Google 提供 token，token可透過 Google API 獲得其他數據。\n        // const credential = result.credential;\n        // const token = result.credential.accessToken;\n        // const user = result.user;\n        vm.onAuthState();\n      });\n    },\n    facebookLogin() {\n      const provider = new firebase.auth.FacebookAuthProvider();\n      const vm = this;\n      provider.addScope('user_birthday');\n      provider.setCustomParameters({\n        'display': 'popup'\n      }); \n      firebase.auth().signInWithPopup(provider).then(function(result) {\n        // 取得FB Token，可以使用於FB API中\n        // const token = result.credential.accessToken;\n        // 使用者資料\n        // const FBUser = result.user;\n        vm.onAuthState();\n      })\n    },\n    // 登出\n    signOut() {\n      firebase.auth().signOut().then(() => {\n        this.onAuthState();\n        alert('已登出');\n      })\n      this.reStart();\n    },\n    // 監聽登入狀態\n    onAuthState() {\n      const vm = this;\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          console.log(\"User is logined\")\n          vm.hasLogin = true;\n          vm.uid = user.uid;\n          vm.getData();\n        } else {\n          console.log(\"User is not logined yet.\");\n          vm.cleanData();\n        }\n      });\n    },\n    cleanData() {\n      this.hasLogin = false;\n      this.toDoList = {};\n      this.uid = '';\n    },\n    /* 番茄鐘 */\n    start() {\n      this.started = true;\n      this.countDown = setInterval(() => {\n        this.totalTime -= 1;\n        if (this.totalTime === 0) {\n          clearInterval(this.countDown);\n        }\n      }, 1000);\n    },\n    stop() {\n      this.started = false;\n      clearInterval(this.countDown);\n    },\n    reStart() {\n      this.started = false;\n      this.totalTime = this.minutes * this.seconds;\n      clearInterval(this.countDown);\n    },\n    /* 拖曳元素 */\n    // 開始拖曳，指得是要被拖曳的物件\n    dragStart(order, e) {\n      this.oldOrder = order;\n      this.targetSource = e.target;\n      this.targetSource.classList.add('list-group--hover');\n    },\n    // 放至有效的目標容器\n    dropped(e) {\n      this.cancelDefault(e)\n      if (e.target === this.targetSource) {\n        return ;\n      }\n      e.target.classList.remove('list-group--hover');\n    },\n    // 拖曳結束，譬如放開滑鼠時，鍵盤 keyup 時\n    dragEnd(e) {\n      e.target.classList.remove('list-group--hover');\n      this.changeData(this.oldOrder, this.newOrder);\n    },\n    // 進入目標容器\n    dragEnter(e) {\n      this.cancelDefault(e)\n      // 狀態很快會變成\"經過容器\"\n      // 當不是原本的目標容器時，變化 CSS 效果\n      if (e.target !== this.targetSource && e.target.tagName === 'LI') {\n        e.target.classList.add('list-group--hover', 'list-group--over')\n      }\n    },\n    // 經過目標容器\n    dragOver(order, e) {\n      this.cancelDefault(e)\n      this.newOrder = order;\n      // 讓拖回原本的目標容器也會有 CSS 效果\n      if (e.target === this.targetSource) {\n        e.target.classList.add('list-group--hover')\n      }\n    },\n    // 離開容器\n    dragLeave(e) {\n      this.cancelDefault(e)\n      // e.target 指得是 li\n      e.target.classList.remove('list-group--hover', 'list-group--over')\n    },\n    // 取消預設行為\n    cancelDefault(e) {\n      e.preventDefault();\n      e.stopPropagation();\n    },\n    changeData(oldOrder, newOrder) {\n      let originToDo = this.toDoList[newOrder].toDo; \n      let originChecked = this.toDoList[newOrder].checked; \n      this.toDoList[newOrder].toDo = this.toDoList[oldOrder].toDo\n      this.toDoList[newOrder].checked = this.toDoList[oldOrder].checked\n      this.toDoList[oldOrder].toDo = originToDo;\n      this.toDoList[oldOrder].checked = originChecked;\n      this.updateDataAll();\n    },\n  },\n  computed: {\n    // 格式化剩餘時間\n    timeLeft() {\n      let min = Math.floor(this.totalTime / 60);\n      let sec = this.totalTime % 60;\n      const formatTime = (num) => {\n        if (num < 10) {\n          return '0' + num;\n        } else {\n          return num\n        }\n      }\n      return `${formatTime(min)} : ${formatTime(sec)}`;\n    },\n    awaitData() {\n      return this.toDoList.filter(item => item.checked === false);\n    },\n    finishedData() {\n      return this.toDoList.filter(item => item.checked === true);\n    },\n  },\n  watch: {\n    totalTime(newValue) {\n      this.percent = Math.floor(newValue / (this.minutes * this.seconds)*100);\n    }\n  },\n  mounted() {\n    this.reStart();\n    this.onAuthState();\n  },\n}).mount('#app');"]}